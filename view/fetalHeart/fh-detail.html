<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link href="../../css/layout.css?v=upd201600405" rel="stylesheet" type="text/css"/>
    <link href="../../css/fetalheart.css?v=upd20160913" rel="stylesheet" type="text/css"/>
    <link href="../../css/style.css?v=upd20160427" rel="stylesheet" type="text/css"/>
</head>
<style>
    #container {
        /*background: fuchsia;*/
    }

    .highcharts-container {
        /*width: 50%;*/
    }
    .highcharts-range-selector-buttons{
        display: none;
    }
</style>
<body>
    <!--<div class="view-log fh-detail clearfix">-->
        <!--<h6 class="detail-head clearfix">-->
            <!--<div class="fl">-->
                <!--<span class="fh-detail-name">姓名: <b>张明明</b></span>-->
                <!--<span class="fh-detail-phone">电话: <b>13712345678</b></span>-->
            <!--</div>-->
            <!--<div class="fr">-->
                <!--<b id="currentNow">00:00</b>/<b id="audioDuration">22:22</b>-->
            <!--</div>-->
        <!--</h6>-->
        <!--<div class="highcharts-content clearfix">-->
        <!--<div class="highchart-box fl">-->
            <!--<audio style="display:none;" controls="controls" id="video1">-->
                <!--<source src="audio.mp3"/>-->
                <!--<source src="audio.ogg"/>-->
            <!--</audio>-->
            <!--<div id="baby-container" style="min-width: 560px;width:100%;height:220px;">-->
            <!--</div>-->
            <!--<div id="uterine-container" style="min-width: 560px;width:100%;height:200px;">-->
            <!--</div>-->
            <!--<a id="audiobtn" class="playbtn" href="javaScript:void(0);"></a>-->
            <!--&lt;!&ndash;<a id="suspendbtn" class="suspendbtn" href="javaScript:void(0);"></a>&ndash;&gt;-->
            <!--<div class="chart-btn fr">-->
                <!--<a class="fh-replay-btn" href="javaScript:void(0);">开始回放</a>-->
                <!--<a class="fh-mark-btn" href="javaScript:void(0);">添加标记</a>-->
                <!--<a class="fh-print-btn" href="javaScript:void(0);">打印</a>-->
            <!--</div>-->
        <!--</div>-->
        <!--<div class="consultation fr">-->
            <!--<div class="consultation-box">-->
                <!--<div><span>胎心率:</span><b id="baby">111</b></div>-->
                <!--<div><span>胎动:</span><b id="fetal">3</b></div>-->
                <!--<div><span>宫缩:</span><b id="uterine">11</b></div>-->
            <!--</div>-->
            <!--<div class="consultation-box patient">-->
                <!--<h6 class="title">患者咨询:</h6>-->
                <!--<p class="">这个看起来怪怪怪的</p>-->
                <!--<p class="consultation-patient">-->
                    <!--<span class="patient-name">大眼皮</span>-->
                    <!--<span class="patient-age"><b>23</b>岁</span>-->
                    <!--<span class="patient-week">孕周:<b>26+</b></span>-->
                <!--</p>-->
            <!--</div>-->
            <!--<div class="consultation-box doctor">-->
                <!--<h6 class="title">我的回复:</h6>-->
                <!--<p class="">-->
                    <!--我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复-->
                    <!--我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复-->
                <!--</p>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
    <!--</div>-->
    <div class="view-log fh-detail clearfix">
        <h6 class="detail-head clearfix">
            <div class="fl">
                <span class="fh-detail-name">姓名: <b>张明明</b></span>
                <span class="fh-detail-phone">电话: <b>13712345678</b></span>
            </div>
            <div class="fr">
                <b id="currentNow">00:00</b>/<b id="audioDuration">22:22</b>
            </div>
        </h6>
        <div class="highcharts-content clearfix">
            <div class="highchart-box fl">
                <audio style="display:none;" controls="controls" id="video1">
                    <source src="audio.mp3"/>
                    <source src="audio.ogg"/>
                </audio>
                <div id="baby-container" style="min-width: 560px;width:700px;height:300px;">
                </div>
                <div id="uterine-container" style="min-width: 560px;width:700px;height:180px;">
                </div>
                <a id="audiobtn" class="playbtn" href="javaScript:void(0);"></a>
                <!--<a id="suspendbtn" class="suspendbtn" href="javaScript:void(0);"></a>-->
            </div>
            <div class="consultation fr">
                <div class="consultation-box">
                    <i class="fetal-heart-print"></i>
                    <div><span>胎心率:</span><b id="baby">111</b></div>
                    <div><span>胎动:</span><b id="fetal">3</b></div>
                    <div><span>宫缩:</span><b id="uterine">11</b></div>
                </div>
                <div class="consultation-box patient">
                    <h6 class="title">患者咨询:</h6>
                    <p class="">这个看起来怪怪怪的</p>
                    <p class="consultation-patient">
                        <span class="patient-name">大眼皮</span>
                        <span class="patient-age"><b>23</b>岁</span>
                        <span class="patient-week">孕周:<b>26</b>周 <b>2</b>天</span>
                        <span class="patient-born">预产期:<b>2017-01-01</b></span>
                    </p>
                </div>
                <div class="consultation-box doctor">
                    <h6 class="title">我的回复:</h6>
                    <p style="display: none;" class="">
                        我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复
                        我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复我的回复
                    </p>
                    <div style="width:90%;">
                    <textarea style="resize:none; width:100%;" name="" id="" cols="30" rows="5">

                    </textarea>
                        <a style="height:16px;line-height:16px;" class="doctor-reply fr" href="javaScript:void(0);">回复</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>

<script src="../../js/jquery-1.9.1.min.js"></script>
<script src="../../js/highchart/highstock.js"></script>
<script src="../../js/highchart/exporting.js"></script>
<script src="../../js/highchart/chart-themes.js" type="text/javascript"></script>

<script>
    var chart = null;
    var audioStatus = "paused";
    var myVid = document.getElementById("video1");
    var timeout = false;
    var currentTime = 0;

    var audio = ["audio.mp3","audio2.mp3"];
    var heartbeat = {
        baby: [
            200, 110, 200, 150, 140, 140, 150, 140, 150, 160, 140, 140, 166, 145, 150, 140, 140, 140, 140, 140, 150, 150, 140, 144, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 140, 150, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 142, 177,
            150, 110, 200, 150, 140, 140, 150, 190, 150, 160, 140, 140, 166, 145, 150, 140, 140, 140, 140, 140, 150, 150, 140, 144, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 140, 150, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 142, 177,
            150, 110, 180, 150, 140, 140, 150, 170, 150, 160, 140, 140, 166, 145, 150, 140, 140, 140, 140, 140, 150, 150, 140, 144, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 145, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 140, 150, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 142, 177,
            150, 110, 210, 150, 140, 140, 150, 160, 150, 160, 140, 140, 166, 145, 150, 140, 140, 140, 140, 140, 150, 150, 140, 144, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 150, 140, 140, 140, 140, 140, 140, 140
        ],
        uterine:[
            50, 10, 70, 50, 40, 40, 50, 40, 50, 60, 40, 40, 66, 45, 50, 40, 40, 40, 40, 40, 50, 50, 40, 44, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 40, 50, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 42, 77,
            50, 10, 70, 50, 40, 40, 50, 40, 50, 60, 40, 40, 66, 45, 50, 40, 40, 40, 40, 40, 50, 50, 40, 44, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 40, 50, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 42, 77,
            50, 10, 80, 50, 40, 40, 50, 40, 50, 60, 40, 40, 66, 45, 50, 40, 40, 40, 40, 40, 50, 50, 40, 44, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 45, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 40, 50, 40, 40, 50, 40, 40, 40, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 42, 77,
            50, 10, 70, 50, 40, 40, 50, 40, 50, 60, 40, 40, 66, 45, 50, 40, 40, 40, 40, 40, 50, 50, 40, 44, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 50, 40, 40, 40, 40, 40, 40, 49
        ]

    };
    $(function () {

        $.ajax({

        });

        $(".gravida-list ul li").on("click",function(){
            var i = $(this).index();
            myVid.src = audio[i];
        });


        var renderer;
        var chart = null;
        var uchart = null;
        var pointX = null;
        var drag = false;
        var eleBaby = document.getElementById("baby");
        var eleUterine = document.getElementById("uterine");

        $(document).mouseup(function(){
            drag = false;
        });
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        // Create the chart
//        表一/胎心
        $('#baby-container').highcharts('StockChart', {
            chart:
            {
                events: {
//                    load : function () {
//                        // set up the updating of the chart each second
//                        var series = this.series[0];
//                        setInterval(function () {
//                            var x = heartbeat.baby[i], // current time
//                                    y = Math.round(Math.random() * 250);
//                            series.addPoint([x, y], true, true);
//                            i++;
//                        }, 1000);
//                    }
                },
                zoomType: 'none'
            },
            style: {
                plotBackgroundColor: "#f00"
            },
            yAxis: [{ // Primary yAxis
                tickPositions: [60, 90, 120, 150,180,210],
                labels: {
//                    tickPositions: [0,100,200,400,800],
                    align: 'left',
                    x: 0,
                    y: -2,
                    style: {
                        color: "#000"
                    }
                },
                plotBands: [{
                    from: 110,               // 标示带开始值
                    to: 160,                 // 标示带结束值
                    label: {              // 标示带文字标签配置，详见API
                    },
                    color: '#F3E7E6',            // 标示带背景颜色
                    borderWidth: 0,        // 标示带边框宽度
                    borderColor: "#fff",        // 标示带边框颜色
                    id: "save",                 // 标示带 id，用于删除等操作
                    zIndex: "-1",              // 标示带层叠，用于调整显示层次
                    events: {             // 事件，支持 click、mouseover、mouseout、mousemove等事件
                        click: function (e) {
                        },
                        mouseover: function (e) {
                        },
                        mouseout: function (e) {
                        },
                        mousemove: function (e) {
                        }
                    }

                }],
                opposite: true
            }],
            rangeSelector: {
                buttons: [{
                    type: 'all',
                    text: 'All'
                }],
                inputEnabled: false,
                selected: 0
            },
            credits: {
                enabled: false // 禁用版权信息
            },
            xAxis: {
                labels: {
                    y:20,
                    formatter: function () {
                        var val = this.value;
                        if (val < 60) {
                            return val + "′";
                        } else {
                            var min = Math.floor(val / 60);
                            return min + "′" + val % 60 + "″";
                        }
                    }
                },
//                tickInterval:75,
                minTickInterval:70,
                plotLines: [{
                    color: '#5CA1D5',            //线的颜色
                    dashStyle: 'Solid',//标示线的样式，默认是solid（实线），这里定义为长虚线
                    value: 0,                //定义在哪个值上显示标示线，这里是在x轴上刻度为3的值处垂直化一条线
                    width: 2,                 //标示线的宽度，2px
                    id: "b-playline",
                    zIndex: 99,
                    events: {
                        click: function () {
                            //当标示线被单击时，触发的事件
                        },
                        mouseover: function () {
                            //当标示线被鼠标悬停时，触发的事件
                        },
                        mousedown: function (e) {
                            drag = true;
                        },
                        mouseup: function (e) {
                            drag = false;
                        }
                    }
                }]
            },
            scrollbar : {
                enabled : false
            },
            exporting: {
                enabled: false
            },
            series: [
                {
                    lineWidth:1,
                    color:"#000",
                    name: 'baby',
                    data: (function () {
                        // generate an array of random data
                        var data = [];
                        for (i = 0; i < heartbeat.baby.length; i++) {
                            data.push(heartbeat.baby[i]);
                        }
                        return data;
                    }())
                }
            ],
            navigator : {
                enabled : false
            },
            plotOptions: {//鼠标移入样式
                series: {
                    marker: {
                        states: {
                            hover: {
                                radiusPlus: 0,
                                lineWidthPlus: 0
                            }
                        }
                    },
                    states: {
                        hover: {
                            lineWidthPlus: 0
                        }
                    }
                }
            },
            tooltip: {
                shared: false,
                animation:false,
//                enabled:false,
                crosshairs: false,
                backgroundColor:'transparent',
                borderWidth: 0,
                borderRadius: 0,
                headerFormat: "",
                plotOptions: {
                    spline: {
                        marker: {
                            radius: 1,
                            lineColor: '#f00',
                            lineWidth: 1
                        }
                    }
                },
                pointFormatter: function(){
                    pointX = (this.x);
                    if(drag){
                        var m = Math.floor(pointX/60);
                        var s = pointX%60;
                        var currentNow = "";
                        m<10?currentNow += "0" +m+":":m+":";
                        s<10?currentNow += "0"+s:currentNow += s + "";
                        addLine();
                        $("#currentNow").text(currentNow);
                        getNowValue(eleBaby,this.index,heartbeat.baby);
                        getNowValue(eleUterine,this.index,heartbeat.uterine);
                        currentTime = pointX
                    }
                }
            }
        }, function (c) {
            chart = c;
        });
//        表二/宫缩
        $('#uterine-container').highcharts('StockChart', {
            chart:
            {
                events: {
//                    load : function () {
//                        // set up the updating of the chart each second
//                        var series = this.series[0];
//                        setInterval(function () {
//                            var x = heartbeat.baby[i], // current time
//                                    y = Math.round(Math.random() * 250);
//                            series.addPoint([x, y], true, true);
//                            i++;
//                        }, 1000);
//                    }
                },
                zoomType: 'none'
            },
            style: {
                plotBackgroundColor: "#f00"
            },
            yAxis: [{ // Primary yAxis
                tickPositions: [0, 20, 40, 60,80,100],
                labels: {
//                    tickPositions: [0,100,200,400,800],
                    align: 'left',
                    x: 0,
                    y: -2,
                    style: {
                        color: "#000"
                    }
                },
                plotBands: [{
                    from: 110,               // 标示带开始值
                    to: 160,                 // 标示带结束值
                    label: {              // 标示带文字标签配置，详见API
                    },
                    color: 'none',            // 标示带背景颜色
                    borderWidth: 0,        // 标示带边框宽度
                    borderColor: "#fff",        // 标示带边框颜色
                    id: "save",                 // 标示带 id，用于删除等操作
                    zIndex: "-1",              // 标示带层叠，用于调整显示层次
                    events: {             // 事件，支持 click、mouseover、mouseout、mousemove等事件
                        click: function (e) {
                        },
                        mouseover: function (e) {
                        },
                        mouseout: function (e) {
                        },
                        mousemove: function (e) {
                        }
                    }

                }],
                opposite: true
            }],
            rangeSelector: {
                buttons: [{
                    type: 'all',
                    text: 'All1'
                }],
                inputEnabled: false,
                selected: 0
            },
            credits: {
                enabled: false // 禁用版权信息
            },
            scrollbar : {
                enabled : false
            },
            xAxis: {
                labels: {
                    enabled: false
                },
                minTickInterval:70,
                plotLines: [{
                    color: '#5CA1D5',            //线的颜色
                    dashStyle: 'Solid',//标示线的样式，默认是solid（实线），这里定义为长虚线
                    value: 0,                //定义在哪个值上显示标示线，这里是在x轴上刻度为3的值处垂直化一条线
                    width: 2,                 //标示线的宽度，2px
                    id: "u-playline",
                    zIndex: 99,
                    events: {
                        click: function () {
                            //当标示线被单击时，触发的事件
                        },
                        mouseover: function () {
                            //当标示线被鼠标悬停时，触发的事件
                        },
                        mousedown: function (e) {
                            drag = true;
                        },
                        mouseup: function (e) {
                            drag = false;
                        }
                    }
                }]
            },
            exporting: {
                enabled: false
            },
            series: [
//                {
//                    lineWidth:1,
//                    name: 'baby',
//                    data: (function () {
//                        // generate an array of random data
//                        var data = [];
//                        for (i = 0; i < heartbeat.baby.length; i++) {
//                            data.push(heartbeat.baby[i]);
//                        }
//                        return data;
//                    }())
//                },
                {
                    lineWidth:1,
                    color : "#000",
                    name: 'heart',
                    data: (function () {
                        // generate an array of random data
                        var data = [];
                        for (i = 0; i < heartbeat.uterine.length; i++) {
                            data.push(heartbeat.uterine[i]);
                        }
                        return data;
                    }())
                }
            ],
            navigator : {
                enabled : false
            },
            plotOptions: {//鼠标移入样式
                series: {
                    marker: {
                        states: {
                            hover: {
                                radiusPlus: 1,
                                lineWidthPlus: 1
                            }
                        }
                    },
                    states: {
                        hover: {
                            lineWidthPlus: 0
                        }
                    }
                }
            },
            tooltip: {
                shared: false,
//                enabled:false,
                crosshairs: false,
                plotOptions: {
                    spline: {
                        marker: {
                            radius: 4,
                            lineColor: '#666666',
                            lineWidth: 1
                        }
                    }
                },
                backgroundColor: 'transparent',
                borderWidth: 0,
                borderRadius: 0,
                headerFormat: "",
                pointFormatter: function(){
                    pointX = (this.x);
                    if(drag){
                        var m = Math.floor(pointX/60);
                        var s = pointX%60;
                        var currentNow = "";
                        m<10?currentNow += "0" +m+":":m+":";
                        s<10?currentNow += "0"+s:currentNow += s + "";
                        addLine();
                        $("#currentNow").text(currentNow);
                        getNowValue(eleBaby,this.index,heartbeat.baby);
                        getNowValue(eleUterine,this.index,heartbeat.uterine);
                        currentTime = pointX
                    }
                }
            }
        }, function (c) {
            uchart = c;
        });

        function audioPlay(){
            var currT = Math.floor(myVid.currentTime);
            var m = Math.floor(currT/60);
            var s = currT%60;
            var currentNow = "";
            m<10?currentNow += "0" +m+":":m+":";
            s<10?currentNow += "0"+s:currentNow += s + "";
            $("#currentNow").text(currentNow);
        }

        function audioDur(){
            var dur = myVid.duration;
            $("#audioDuration").text(dur);
        }
        function getData(ele,arr,xposition){
            $(ele).text(arr[xposition]);
        }

        function runPlayLine() {
            var currentTime = Math.floor(myVid.currentTime);
            audioPlay();
            chart.xAxis[0].removePlotLine("b-playline");
            chart.xAxis[0].addPlotLine({           //在x轴上增加
                value: currentTime,                //在值为2的地方
                width: 2,                          //标示线的宽度为2px
                color: '#5CA1D5',                  //标示线的颜色
                zIndex: 99,
                id: 'b-playline',                  //标示线的id，在删除该标示线的时候需要该id标示
                events: {
                    click: function () {
                        //当标示线被单击时，触发的事件
                    },
                    mouseout: function () {
                        //当标示线被鼠标移出时，触发的事件
                    },
                    mousedown: function (e) {
                        drag = true;
                    },
                    mouseup: function (e) {
                        drag = false;
                    }
                }
            });
            uchart.xAxis[0].removePlotLine("u-playline");
            uchart.xAxis[0].addPlotLine({           //在x轴上增加
                value: currentTime,                 //在值为2的地方
                width: 2,                           //标示线的宽度为2px
                color: '#5CA1D5',                   //标示线的颜色
                zIndex: 99,
                id: 'u-playline',
                //标示线的id，在删除该标示线的时候需要该id标示
                events: {
                    click: function () {
                        //当标示线被单击时，触发的事件
                    },
                    mouseout: function () {
                        //当标示线被鼠标移出时，触发的事件
                    },
                    mousedown: function (e) {
                        drag = true;
                    },
                    mouseup: function (e) {
                        drag = false;
                    }
                }
            });

            getData(baby,heartbeat.baby,currentTime);
            getData(uterine,heartbeat.uterine,currentTime);
        }
//      定时器
        function time() {
            if (timeout) return;
            runPlayLine();
            setTimeout(time, 1050); //time是指本身,延时递归调用自己,100为间隔调用时间,单位毫秒
        }
//        拖动进度条时,获取胎心,等数据
        function getNowValue(ele,index,arr){
            $(ele).text(arr[index]);
        }
//        动态绘制标识线
        function addLine(){
            chart.xAxis[0].removePlotLine("b-playline");
            chart.xAxis[0].addPlotLine({
                value: pointX,
                width: 2,
                color: '#5CA1D5',
                zIndex: 99,
                id: 'b-playline',
                events : {
                    mousedown: function (e) {
                        drag = true;
                    },
                    mouseup: function (e) {
                        drag = false;
                        myVid.currentTime=pointX;
                    }
                }
            });
            uchart.xAxis[0].removePlotLine("u-playline");
            uchart.xAxis[0].addPlotLine({
                value: pointX,
                width: 2,
                color: '#5CA1D5',
                zIndex: 99,
                id: 'u-playline',
                events : {
                    mousedown: function (e) {
                        drag = true;
                    },
                    mouseup: function (e) {
                        drag = false;
                        myVid.currentTime=pointX;
                    }
                }
            })
        }

        //音频
        myVid.addEventListener("playing", function () {
            audioStatus = "playing";
            timeout = false;
            time()
        });
        myVid.addEventListener("pause", function () {
            audioStatus = "pause";
            timeout = true;
        });
        myVid.addEventListener("ended", function () {
            audioStatus = "ended";
            timeout = true;
        });



//        绘制圆形
        renderer = new Highcharts.Renderer(
                $('#baby-container')[0],
                100,
                80
        );
        var group = renderer.g().add(),vis = true;
        renderer.circle(40, 27, 3).attr({
            fill: '#BD817C',
            stroke: '#BD817C',
            zIndex:99,
            'stroke-width': 1
        }).add(group);
        var group1 = renderer.g().add(),vis = true;
        renderer.circle(60, 27, 3).attr({
            fill: '#BD817C',
            stroke: '#BD817C',
            zIndex:99,
            'stroke-width': 1
        }).add(group1);
        var group3 = renderer.g().add(),vis = true;
        renderer.circle(70, 27, 3).attr({
            fill: '#BD817C',
            stroke: '#BD817C',
            zIndex:99,
            'stroke-width': 1
        }).add(group3);

//        音频的播放控制
        function playOrPause(){
            var dur = Math.floor(myVid.duration);
            var m = Math.floor(dur/60);
            var s = dur%60;
            var currentNow = "";
            m<10?currentNow += "0" +m+":":m+":";
            s<10?currentNow += "0"+s:currentNow += s + "";
            $("#audioDuration").text(currentNow);
            if (vis) {
                $("#audiobtn").removeClass("playbtn").addClass("suspendbtn");
                myVid.currentTime = currentTime;
                myVid.play();
            } else {
                $("#audiobtn").removeClass("suspendbtn").addClass("playbtn");
                myVid.pause();
            }
            vis = !vis;
        }
        $('#audiobtn').click(function () {
            playOrPause();
        });


    });
</script>

</html>