<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" id="viewport" content="width=device-width,  maximum-scale=1.0">
<title>test</title>
<script src="js/jquery-1.9.1.min.js" type="text/javascript"></script>

<style type="text/css">
body,html{width: 100%; margin:0; padding: 0;}

.div0{width: 100%; height:900px; text-align: center;}
.div1,.div2,.div3{width: 100%; height: 600px; }
.div1{background: #c3d;}
.div2{position: relative;background: #521;}
.div3{position: relative; height: 300px; background: #336;}
.div1 .icon,.div2 .icon,.div3 .icon{ position:absolute; top: 10px; left: 300px; width: 80px; height: 80px; background: #fff; z-index:10;}
.div1 .banner,.div2 .banner,.div3 .banner{position: absolute; top: 20px; right: 120px; width: 230px; height: 140px; background: #f5f5f5;z-index:5;}
</style>
</head>
<body>
<div class="div0"><h1>滚屏动画测试</h1></div>
<div class="div1">
	<div class="icon"></div>
	<div class="banner"></div>
</div>
<div class="div2">
	<div class="icon"></div>
	<div class="banner"></div>
</div>
<div class="div3">
	<div class="icon"></div>
	<div class="banner"></div>
</div>


<script type="text/javascript">
var	scrolled = $(window).scrollTop();
	hp = $(window).height()* 1.1,

$(window).on('scroll',function (){

   var	offsetTop2 = $('.div2').offset().top;
   var	offsetTop3 = $('.div3').offset().top;

   	if (scrolled + hp < offsetTop2) {
   		$('.div2').children('.icon').animate({'left':'340'},2600);
   		$('.div2').children('.banner').animate({'right':'540'},2600);
   	}
   	else { 
   		if (scrolled + hp  < offsetTop3) {
			$('.div3').children('.icon').animate({'left':'340'},2600);
	   		$('.div3').children('.banner').animate({'right':'540'},2600);	
   	}}
})

</script>

</body>
</html>